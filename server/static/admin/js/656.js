(self.webpackChunk=self.webpackChunk||[]).push([[656],{5656:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"create-menu-page"},[s("h1",{staticClass:"page-title"},[e._v("创建分类图标")]),e._v(" "),s("el-form",{ref:"data",attrs:{"label-width":"100px",rules:e.rules,model:e.data}},[s("el-form-item",{attrs:{label:"编号",prop:"id"}},[s("el-input",{model:{value:e.data.id,callback:function(t){e.$set(e.data,"id",t)},expression:"data.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"图标",prop:"img"}},[s("el-upload",{attrs:{action:"/admin/product/upload","show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError}},[s("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),e._v(" "),s("span",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v("选择上传的图片")])],1),e._v(" "),e.data.img?s("img",{attrs:{src:e.data.img}}):e._e()],1),e._v(" "),s("el-button",{staticClass:"submit-btn",attrs:{type:"success"},on:{click:e.submitIcons}},[e._v("提交")])],1)],1)};a._withStripped=!0;const r={data(){let e={};return["id","name","img"].forEach((t=>{e[t]=[{required:!0,message:"请输入内容"}]})),{data:{},rules:e}},methods:{uploadSuccess(e){0===e.errno?this.$set(this.data,"img",e.img):(this.$message.closeAll(),this.$message.error(e.msg))},uploadError(){this.$message.closeAll(),this.$message.error("上传错误，请重新上传")},submitIcons(){this.$refs.data.validate((e=>{e&&this.$http.post("/home/icons/create",this.data).then((({data:e})=>{0===e.errno?(this.$message.success(e.msg),setTimeout((()=>{this.$router.go(1)}),1e3)):(this.$message.closeAll(),this.$message.error(e.msg))}))}))}}};var l=(0,s(8726).Z)(r,a,[],!1,null,"3f5571be",null);l.options.__file="src/views/home/CreateMenu.vue";const i=l.exports}}]);