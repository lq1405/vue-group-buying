(self.webpackChunk=self.webpackChunk||[]).push([[650],{3650:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>o});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"product-list-page"},[e("h1",{staticClass:"page-title"},[t._v("商品列表")]),t._v(" "),e("div",{staticClass:"page-list"},t._l(t.data,(function(s){return e("el-card",{key:s.id},[e("img",{attrs:{src:s.img,alt:""}}),t._v(" "),e("h3",[t._v(t._s(s.brandName))]),t._v(" "),e("h4",[t._v("售价￥"+t._s(s.price))]),t._v(" "),e("span",{staticClass:"type-span"},[t._v(t._s(s.types))]),t._v(" "),e("p",[t._v("原价￥"+t._s(s.originalPrice))]),t._v(" "),e("p",[t._v("已销售"+t._s(s.sold))]),t._v(" "),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.toEditPage(s.id)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.goodsDelete(s.title,s.id)}}},[t._v("删除")])],1)})),1),t._v(" "),e("div",{staticClass:"list-btn"},[e("router-link",{staticClass:"is-round",attrs:{tag:"el-button",to:"/product/list/"+(t.page>1?t.page-1:1)}},[t._v("←上一页")]),t._v(" "),e("router-link",{staticClass:"is-round",attrs:{tag:"el-button",to:"/product/list/"+(t.page+1)}},[t._v("下一页→")])],1)])};a._withStripped=!0;const i={props:["page"],data:()=>({data:[]}),methods:{getData(){let{params:t}=this.$route;this.$http.get("/admin/product/list",{params:t}).then((({data:t})=>{this.data=t}))},toEditPage(t){console.log(t),this.$router.replace("/product/edit/"+t)},goodsDelete(t,s){this.$confirm(`确认是否删除“${t}”商品`,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log("11111"),this.$http.post("/admin/product/delete",{id:s}).then((({data:t})=>{0===t.errno?(this.$message.success(t.msg),setTimeout((()=>{this.$router.go(0)}),1e3)):(this.$message.closeAll(),this.$message.error("删除失败"))}))})).catch((()=>{this.$message.closeAll(),this.$message.info("已取消删除")}))}},watch:{$route(){this.getData()}},created(){this.getData()}};var r=(0,e(8726).Z)(i,a,[],!1,null,"f3da6f7a",null);r.options.__file="src/views/product/ProductList.vue";const o=r.exports}}]);